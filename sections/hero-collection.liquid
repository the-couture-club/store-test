<div id="hero-collection" aria-banner="{{ section.settings.show_banner }}">

    {% assign collection = collections[section.settings.collection] %}

    {% if section.settings.show_banner %}

      <div id="hero-collection__image_container">
        <div class="hero-image--container">

          <a href="{{collection.url}}" class="hero-image--content">

          {% if section.settings.content_type == 'image' %}

          <img
            class="hero-image--content__img u-hidden@desk-down"
            src="{{ section.settings.image | image_url: width: 360 }}"
            srcset="{{ section.settings.image | image_url: width: 180 }} 180w {{ 180 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 360 }} 360w {{ 360 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 540 }} 540w {{ 540 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 720 }} 720w {{ 720 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 900 }} 900w {{ 900 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 1080 }} 1080w {{ 1080 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url: width: 1296 }} 1296w {{ 1296 | divided_by: section.settings.image.aspect_ratio | round }}h, {{ section.settings.image | image_url }} 2512w {{ 2512 | divided_by: section.settings.image.aspect_ratio | round }}h"
            alt="{{ section.settings.image.alt }}"
            loading="lazy"
            sizes="(min-width: 981px): 520px, (min-width: 696px): 660px, 100vw" />

          {% else %}

            {{ section.settings.video | video_tag: class: 'u-hidden@desk-down', autoplay: true, loop: true, muted: true, controls: false }}

          {% endif %}

          {% if section.settings.content_type_mobile == 'image' %}
          <img
            class="hero-image--content__img u-hidden@desk-up"
            src="{{ section.settings.image_mobile | image_url: width: 360 }}"
            srcset="{{ section.settings.image_mobile | image_url: width: 180 }} 180w {{ 180 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 360 }} 360w {{ 360 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 540 }} 540w {{ 540 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 720 }} 720w {{ 720 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 900 }} 900w {{ 900 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 1080 }} 1080w {{ 1080 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url: width: 1296 }} 1296w {{ 1296 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h, {{ section.settings.image_mobile | image_url }} 2512w {{ 2512 | divided_by: section.settings.image_mobile.aspect_ratio | round }}h"
            alt="{{ section.settings.image_mobile.alt }}"
            loading="lazy"
            sizes="(min-width: 981px): 520px, (min-width: 696px): 660px, 100vw" />

          {% else %}

            {{ section.settings.video_mobile | video_tag: class: 'u-hidden@desk-up', autoplay: true, loop: true, muted: true, controls: false }}

          {% endif %}

            {% if section.settings.heading != '' %}

            <div class="hero-image--content_cta">

              <h5>{{ section.settings.heading }}</h5>
              <span>{{ section.settings.subheading }}</span>

            </div>

            {% endif %}

          </a>
        </div>
      </div>
  
    {% endif %}
    <div id="hero-collection__collection_container">

  <items-scroll {% if image_scroll_navigation_ratio %}class="ratio-navigation"{% endif %} style="width: 100%; {% if image_scroll_navigation_ratio %}--navigation-ratio: {{ image_scroll_navigation_ratio }}{% endif %}">


      {% unless section.settings.show_banner %}
        <a href="{{ collection.url }}" class="items-scroll-title">{{ collection.title }}</a>
      {% endunless %}

      <div class="
              grid-layout
              grid-layout--align-center
              grid-layout--6
              grid-layout--6@mob
              grid-layout--hero_collection
              grid-spacing--18
          "

          data-items
      >

      {% for product in collection.products limit: 20 %}
        {%- liquid
            assign unique_id = block.id | append: '--' | append: product.id
        -%}
        <div class="hero-collection__collection_container--product">
        {% render 'product-grid-item',
            product: product,
            swatchEnable: false,
            page: 'home',
            image_sizes: '(max-width: 767px) 50vw, 20vw',
            small_buttons_on_mobile: small_buttons_on_mobile,
            count: count,
            scroll_snap: false,
            type: 'standard',
            wishlist: false,
            noQuickbuy: true,
            early-access: early-access
        %}
        </div>
      {% endfor %}

      </div>
  </items-scroll>
      <a href="{{collection.url}}" class="hero-collection--content_cta">{{ "custom.hero_collection-cta" | t }}</a>
    </div>
</div>

{% schema %}
    {
      "name": "Hero Image / Collection",
      "settings": [
        {
          "type": "checkbox",
          "id": "show_banner",
          "label": "Show Banner",
          "default": true
        },
        {
            "type": "header",
            "content": "Content (Desktop)"
          },
          {
            "type": "select",
            "id": "content_type",
            "label": "Content Type",
            "options": [
              {
                "value": "image",
                "label": "Image"
              }, {
                "value": "video",
                "label": "Video"
              }
            ],
            "default": "image"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "video",
            "id": "video",
            "label": "Video"
          },
          {
            "type": "header",
            "content": "Content (Mobile/Tablet)"
          },
          {
            "type": "select",
            "id": "content_type_mobile",
            "label": "Content Type",
            "options": [
              {
                "value": "image",
                "label": "Image"
              }, {
                "value": "video",
                "label": "Video"
              }
            ],
            "default": "image"
          },
          {
            "type": "image_picker",
            "id": "image_mobile",
            "label": "Image"
          },
          {
            "type": "video",
            "id": "video_mobile",
            "label": "Video"
          },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Heading"
        }, {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "Shop Now"
        }, {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "header",
          "content": "Collection Slider Settings"
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ],
      "presets": [
        {
          "name": "Hero Image / Collection"
        }
      ]
    }
  {% endschema %}