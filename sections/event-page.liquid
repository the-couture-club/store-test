<div id="event-container">
  <div id="event-banner">
      {% if metaobject.hide_title_subtitle.value == false %}
      <div style="color:{{ metaobject.signup_page_title_colour.value }}" class="event-banner_content">
        <div class="title">{{ metaobject.event_title.value }}</div>
        <div class="subtitle">{{ metaobject.event_subtitle.value }}</div>
      </div>
      {% endif %}
      <img class="u-hidden@tab-down" src="{{ metaobject.signup_page_image.value | image_url }}">
      <img
          class="u-hidden@tab-up collection__header-img collection__header-img--{{ section.id }}"
          src="{{ metaobject.signup_page_mobile_image.value | img_url: '600x' }}"
          srcset="{% render 'bgset', image: metaobject.signup_page_mobile_image.value %}"
          width="600"
          height="{{ 600 | divided_by: metaobject.signup_page_mobile_image.value.aspect_ratio | round }}"
          sizes="100vw"
          alt="{{ metaobject.event_title.value }}"
          loading="eager"
      />
  </div>
  <div id="event-content">
    <div aria-type="content">
      <h1>{{ metaobject.event_title.value }}</h1>
      <content>{{ metaobject.signup_page_content.value }}</content>
    </div>
    <div {% if metaobject.signup_page_lock_form.value  == true %}disabled{% endif %} aria-type="form">
      {% for block in section.blocks %}
        {% render block %}
      {% endfor %}
    </div>
  </div>
  
  {% unless metaobject.signup_page_hide_map_.value  == true %}
    <div class="event-map">
      <iframe class="gmap_iframe" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=600&amp;height=400&amp;hl=en&amp;q={{ metaobject.event_location.value | url_encode }}&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>
    </div>  
  {% endunless %}
</div>

<style>

#event-banner {
  position: fixed;
  height: calc(100vh - var(--header-section-height));
  top: var(--header-section-height);
  width: 100%
}
#event-banner img {
  height: 100%;
  width: 100%;
  object-fit: cover;
}
#event-banner {
  z-index: -1;
}

announcement-bar { 
    display: none;
}

body {
    overflow: scroll;
    height: 100vh;
}

#event-content {
  display: flex;
  flex-direction: row;
  gap: 10%;
  justify-content: center;
  margin-bottom: 0px;
  padding-top: 100vh;
  background: white;
  padding-top: 60px;
  padding-bottom: 60px;
  margin-top: calc(100vh - var(--header-section-height));
}

#event-content [aria-type] {
  position: relative;
  max-width: 33%;
}

#event-content h1 {
  font-weight: 600;
}

#event-content [aria-type="form"][disabled]:before {
    align-content: center;
    text-align: center;
    content: 'Registration Closed';
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 3;
    background: #ffffffc9;
    backdrop-filter: blur(2px);
    font-size: 26px;
    font-weight: 600;
}

form-embed {
  margin-top: -25px;
}

.event-map {
  height: calc(100vh - var(--header-section-height));
  width: 100%;
  display:flex;
}

.event-banner_content {
  position: absolute;
  z-index: 2;
  text-align: center;
  color: white;
  text-shadow: 0px 0px 10px #000000;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  line-height: 1.5;
  width: 90%;
  gap: 20px;
  display: flex;
  flex-direction: column;
  text-transform: uppercase;
}

.event-banner_content .title {
  font-size: 4vw;
  font-weight: 600;
  line-height: 1;
}

.event-banner_content .subtitle {
  font-size: 1.5vw;
}

@media screen and (max-width: 767px) {
  #event-content {
    flex-direction: column;
    padding: 60px;
    gap: 60px;
  }
  #event-content [aria-type] {
    max-width: none;
  }
  .event-banner_content .title {
    font-size: 11vw;
  }
  .event-banner_content .subtitle {
  font-size: 12px;
}

}

</style>

<script>
    var docElement = document.querySelector('html');
    docElement.classList.add("no-scroll");
</script>

{% schema %}
    {
      "name": "Event Signup Page",
      "settings": [
        {
            "type": "image_picker",
            "id": "desktop",
            "label": "Desktop Image"
        },
        {
            "type": "image_picker",
            "id": "mobile",
            "label": "Mobile Image"
        }
      ],
      "blocks": [
        {
          "type": "@app"
        }
      ],
      "presets": [
          {
              "name": "Event Signup Page"
          }
      ]
    }
  {% endschema %}